/**
 * Print Stylesheet
 * 이력서/경력기술서 PDF 출력 최적화
 */

/* ============================
   1. 페이지 설정
   ============================ */
@page {
    size: A4;
    margin: 15mm;
}

@page :first {
    margin-top: 10mm;
}

/* ============================
   2. 기본 인쇄 설정
   ============================ */
@media print {
    /* 배경색/이미지 강제 인쇄 */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    /* 기본 스타일 리셋 */
    html, body {
        width: 100%;
        height: auto;
        margin: 0;
        padding: 0;
        background: white !important;
        font-size: 10pt;
    }

    /* 링크 스타일 (인쇄 시 밑줄 제거) */
    a {
        text-decoration: none !important;
        color: inherit !important;
    }

    /* URL 표시 방지 */
    a[href]:after {
        content: none !important;
    }
}

/* ============================
   3. 페이지 나눔 제어
   ============================ */
@media print {
    /* 페이지 나눔 방지 (요소 내부에서 끊기지 않음) */
    .no-break,
    .section,
    .experience-item,
    .project-item,
    .competency-item {
        page-break-inside: avoid;
        break-inside: avoid;
    }

    /* 섹션 제목 뒤에서 페이지 나눔 방지 */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
        break-after: avoid;
    }

    /* 새 페이지 시작 */
    .page-break,
    .new-page {
        page-break-before: always;
        break-before: always;
    }

    /* 마지막 요소 다음 페이지 나눔 방지 */
    .section:last-child {
        page-break-after: avoid;
    }
}

/* ============================
   4. 숨김/표시 제어
   ============================ */
@media print {
    /* 인쇄 시 숨김 */
    .no-print,
    .screen-only,
    .nav-hint,
    .print-hide {
        display: none !important;
    }

    /* 인쇄 시만 표시 */
    .print-only {
        display: block !important;
    }
}

@media screen {
    /* 화면에서만 숨김 (인쇄 시 표시) */
    .print-only {
        display: none !important;
    }
}

/* ============================
   5. 폰트 최적화
   ============================ */
@media print {
    body {
        font-family: 'Pretendard', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
        line-height: 1.5;
        color: #333;
    }

    /* 제목 폰트 */
    h1, h2, h3 {
        font-weight: 600;
        color: #1e3a5f;
    }

    /* 강조 텍스트 */
    strong, b {
        font-weight: 600;
        color: #1e3a5f;
    }
}

/* ============================
   6. 컬러 최적화
   ============================ */
@media print {
    /* 기본 색상 (잉크 절약) */
    :root {
        --print-primary: #1e3a5f;
        --print-accent: #4a6cf7;
        --print-text: #333;
        --print-muted: #666;
        --print-light: #f8fafc;
        --print-border: #e5e7eb;
    }

    /* 배경색 */
    .summary,
    .highlight-box {
        background-color: var(--print-light) !important;
    }

    /* 테두리 */
    .section {
        border-color: var(--print-border) !important;
    }

    /* 악센트 색상 */
    .skill-tag.primary,
    .accent {
        background-color: var(--print-accent) !important;
        color: white !important;
    }
}

/* ============================
   7. 레이아웃 최적화
   ============================ */
@media print {
    /* 컨테이너 */
    .resume,
    .container {
        width: 100%;
        max-width: none;
        margin: 0;
        padding: 0;
        box-shadow: none;
    }

    /* 그리드 레이아웃 유지 */
    .skills-grid,
    .competencies {
        display: grid !important;
    }

    /* Flexbox 레이아웃 유지 */
    .header,
    .experience-header {
        display: flex !important;
    }
}

/* ============================
   8. 아이콘 처리
   ============================ */
@media print {
    /* Font Awesome 아이콘 유지 */
    .fa, .fas, .far, .fab {
        font-family: 'Font Awesome 6 Free', 'Font Awesome 6 Brands' !important;
        -webkit-font-smoothing: antialiased;
        font-style: normal;
        font-variant: normal;
        text-rendering: auto;
    }

    .fas {
        font-weight: 900;
    }

    .far {
        font-weight: 400;
    }

    .fab {
        font-family: 'Font Awesome 6 Brands' !important;
    }
}

/* ============================
   9. 테이블 최적화
   ============================ */
@media print {
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid var(--print-border);
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: var(--print-light);
        font-weight: 600;
    }

    /* 테이블 행 페이지 나눔 방지 */
    tr {
        page-break-inside: avoid;
    }
}

/* ============================
   10. 유틸리티 클래스
   ============================ */
@media print {
    /* 여백 조정 */
    .print-mt-0 { margin-top: 0 !important; }
    .print-mb-0 { margin-bottom: 0 !important; }
    .print-p-0 { padding: 0 !important; }

    /* 텍스트 크기 */
    .print-text-sm { font-size: 9pt !important; }
    .print-text-md { font-size: 10pt !important; }
    .print-text-lg { font-size: 12pt !important; }

    /* 너비 */
    .print-w-full { width: 100% !important; }
    .print-w-half { width: 50% !important; }
}

/* ============================
   11. 2페이지 레이아웃
   ============================ */
@media print {
    .resume-2page .page-1 {
        min-height: 297mm;
        padding-bottom: 15mm;
    }

    .resume-2page .page-2 {
        page-break-before: always;
    }
}

/* ============================
   12. 경력기술서 (다중 페이지)
   ============================ */
@media print {
    .career-portfolio .project-section {
        page-break-inside: avoid;
        margin-bottom: 20mm;
    }

    .career-portfolio .project-section:nth-child(2n) {
        page-break-after: always;
    }
}
