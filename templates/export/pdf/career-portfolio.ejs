<!DOCTYPE html>
<html lang="ko">
<%- include('../partials/head', { profile }) %>
<body>
    <!-- PAGE 1: Header + Summary + Competencies + Skills -->
    <div class="page">
        <div class="intro-page-content">
            <%- include('../partials/header', { profile }) %>
            <div class="intro-sections">
                <%- include('../partials/summary', { summary }) %>
                <%- include('../partials/competencies', { competencies }) %>
                <%- include('../partials/skills', { skills }) %>
            </div>
        </div>
    </div>

    <%
    // 구하다 회사 데이터
    const guhada = companies.find(c => c.name.includes('구하다'));
    if (guhada && guhada.pages) {
    %>
    <!-- PAGE 2: 구하다 - 인플루언서 플랫폼 + Dynamic Pricing -->
    <div class="page">
        <div class="project-page-content">
            <div class="company-header-wrapper">
                <%- include('../partials/company-header', { company: guhada }) %>
            </div>
            <div class="projects-container">
                <% guhada.pages[0].projects.forEach(function(project) { %>
                <div class="project-half">
                    <%- include('../partials/project-box', { project }) %>
                </div>
                <% }); %>
            </div>
        </div>
    </div>

    <!-- PAGE 3: 구하다 - 이미지 정합성 + ChatOps -->
    <div class="page">
        <div class="project-page-content">
            <div class="company-header-wrapper">
                <%- include('../partials/company-header', { company: { ...guhada, duration: null } }) %>
            </div>
            <div class="projects-container">
                <% guhada.pages[1].projects.forEach(function(project) { %>
                <div class="project-half">
                    <%- include('../partials/project-box', { project }) %>
                </div>
                <% }); %>
            </div>
        </div>
    </div>

    <!-- PAGE 4: 구하다 - AI 생산성 + 개발 문화 -->
    <div class="page">
        <div class="project-page-content">
            <div class="company-header-wrapper">
                <%- include('../partials/company-header', { company: { ...guhada, duration: null } }) %>
            </div>
            <div class="projects-container">
                <% guhada.pages[2].projects.forEach(function(project) { %>
                <div class="project-half">
                    <%- include('../partials/project-box', { project }) %>
                </div>
                <% }); %>
                <% if (guhada.pages[2].other) { %>
                <div class="project-half">
                    <%- include('../partials/other-box', { other: guhada.pages[2].other }) %>
                </div>
                <% } %>
            </div>
        </div>
    </div>
    <% } %>

    <%
    // 인터파크 회사 데이터
    const interpark = companies.find(c => c.name.includes('인터파크'));
    if (interpark && interpark.fullPage && interpark.projects) {
    %>
    <!-- PAGE 5: 인터파크 (Full Page) -->
    <div class="page">
        <div class="full-page-content">
            <div class="company-header-wrapper">
                <%- include('../partials/company-header', { company: interpark }) %>
            </div>
            <div class="full-project-container">
                <% interpark.projects.forEach(function(project) { %>
                <%- include('../partials/project-box', { project, isFullPage: true }) %>
                <% }); %>
            </div>
        </div>
    </div>
    <% } %>

    <%
    // 한국문헌정보기술 회사 데이터
    const korealit = companies.find(c => c.name.includes('한국문헌정보기술'));
    if (korealit && korealit.fullPage && korealit.projects) {
    %>
    <!-- PAGE 6: 한국문헌정보기술 (Full Page) -->
    <div class="page">
        <div class="full-page-content">
            <div class="company-header-wrapper">
                <%- include('../partials/company-header', { company: korealit }) %>
            </div>
            <div class="full-project-container">
                <% korealit.projects.forEach(function(project) { %>
                <%- include('../partials/project-box', { project, isFullPage: true }) %>
                <% }); %>
            </div>
        </div>
    </div>
    <% } %>
</body>
</html>
