%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#f3e5f5', 'primaryTextColor': '#7b1fa2', 'primaryBorderColor': '#9c27b0'}}}%%
flowchart TB
    subgraph MD["MDíŒ€ ì§ì ‘ ìš´ì˜"]
        A["ğŸ‘¥ MDíŒ€<br/>ì–´ë“œë¯¼ì—ì„œ ì¦‰ì‹œ ë³€ê²½"]
    end

    A --> B

    subgraph ENUM["Enum íƒ€ì… ì‹œìŠ¤í…œ"]
        B["ğŸ“‹ ì „ì‹œ ìœ„ì¹˜ / ì•„ì´í…œ / ë·° íƒ€ì…<br/>ìƒˆ íƒ€ì… = Enum ì¶”ê°€ë§Œ"]
    end

    B --> C

    subgraph CACHE["ìºì‹œ ë ˆì´ì–´"]
        C["ğŸ’¾ In-Memory Cache<br/>TTL 3ë¶„"]
    end

    C --> D["ğŸ–¥ï¸ ë©”ì¸ í˜ì´ì§€<br/>10+ ì „ì‹œ ìœ„ì¹˜"]

    subgraph RESULT["âœ… ì„±ê³¼"]
        R1["MDíŒ€ ììœ¨ ìš´ì˜ ë‹¬ì„±"]
        R2["ê°œë°œì ê°œì… 0"]
        R3["Redis ì˜ì¡´ì„± ì œê±°"]
    end

    D --> RESULT

    style A fill:#e8f5e9,stroke:#4caf50
    style B fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style C fill:#e3f2fd,stroke:#1976d2
    style RESULT fill:#c8e6c9,stroke:#4caf50
