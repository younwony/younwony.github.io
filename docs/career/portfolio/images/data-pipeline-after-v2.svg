<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 280">
  <defs>
    <linearGradient id="cardWhite" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff"/>
      <stop offset="100%" style="stop-color:#f5f5f5"/>
    </linearGradient>
    <linearGradient id="cardBlue2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e3f2fd"/>
      <stop offset="100%" style="stop-color:#bbdefb"/>
    </linearGradient>
    <linearGradient id="cardGreen2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e9"/>
      <stop offset="100%" style="stop-color:#c8e6c9"/>
    </linearGradient>
    <linearGradient id="cardPurple" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5"/>
      <stop offset="100%" style="stop-color:#e1bee7"/>
    </linearGradient>
    <linearGradient id="cardOrange" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fff3e0"/>
      <stop offset="100%" style="stop-color:#ffe0b2"/>
    </linearGradient>
    <marker id="arrowSmall2" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
      <path d="M0,0.5 L5,2 L0,3.5" fill="none" stroke="#78909c" stroke-width="1" stroke-linecap="round"/>
    </marker>
    <filter id="shadow2" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.1"/>
    </filter>
  </defs>

  <rect width="900" height="280" fill="#fafafa"/>
  <text x="450" y="28" text-anchor="middle" fill="#424242" font-family="Arial, sans-serif" font-size="18" font-weight="600">After: 자동화된 데이터 파이프라인</text>

  <!-- 외부 API Row -->
  <g filter="url(#shadow2)">
    <rect x="40" y="50" width="130" height="50" rx="10" fill="url(#cardBlue2)" stroke="#90caf9" stroke-width="1"/>
  </g>
  <text x="105" y="80" text-anchor="middle" fill="#424242" font-family="Arial, sans-serif" font-size="12" font-weight="600">Tik API</text>

  <g filter="url(#shadow2)">
    <rect x="185" y="50" width="130" height="50" rx="10" fill="url(#cardBlue2)" stroke="#90caf9" stroke-width="1"/>
  </g>
  <text x="250" y="80" text-anchor="middle" fill="#424242" font-family="Arial, sans-serif" font-size="12" font-weight="600">Ensemble API</text>

  <g filter="url(#shadow2)">
    <rect x="330" y="50" width="130" height="50" rx="10" fill="url(#cardBlue2)" stroke="#90caf9" stroke-width="1"/>
  </g>
  <text x="395" y="80" text-anchor="middle" fill="#424242" font-family="Arial, sans-serif" font-size="12" font-weight="600">EchoTik API</text>

  <g filter="url(#shadow2)">
    <rect x="475" y="50" width="130" height="50" rx="10" fill="url(#cardBlue2)" stroke="#90caf9" stroke-width="1"/>
  </g>
  <text x="540" y="80" text-anchor="middle" fill="#424242" font-family="Arial, sans-serif" font-size="12" font-weight="600">Web Scraper</text>

  <!-- 화살표들 -->
  <path d="M105,105 L350,125" fill="none" stroke="#78909c" stroke-width="2" marker-end="url(#arrowSmall2)"/>
  <path d="M250,105 L370,125" fill="none" stroke="#78909c" stroke-width="2" marker-end="url(#arrowSmall2)"/>
  <path d="M395,105 L400,125" fill="none" stroke="#78909c" stroke-width="2" marker-end="url(#arrowSmall2)"/>
  <path d="M540,105 L440,125" fill="none" stroke="#78909c" stroke-width="2" marker-end="url(#arrowSmall2)"/>

  <!-- Spring Boot Batch -->
  <g filter="url(#shadow2)">
    <rect x="280" y="130" width="240" height="55" rx="12" fill="url(#cardGreen2)" stroke="#81c784" stroke-width="1"/>
  </g>
  <circle cx="315" cy="158" r="18" fill="#4caf50"/>
  <text x="315" y="163" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">⚙</text>
  <text x="420" y="152" text-anchor="middle" fill="#2e7d32" font-family="Arial, sans-serif" font-size="14" font-weight="600">Spring Boot Scheduling</text>
  <text x="420" y="172" text-anchor="middle" fill="#558b2f" font-family="Arial, sans-serif" font-size="11">Parallel + Retry + Scheduler</text>

  <!-- Redis Lock -->
  <g filter="url(#shadow2)">
    <rect x="620" y="130" width="140" height="55" rx="10" fill="url(#cardOrange)" stroke="#ffb74d" stroke-width="1"/>
  </g>
  <text x="690" y="152" text-anchor="middle" fill="#e65100" font-family="Arial, sans-serif" font-size="12" font-weight="600">Redis Lock</text>
  <text x="690" y="172" text-anchor="middle" fill="#f57c00" font-family="Arial, sans-serif" font-size="10">(중복 방지)</text>

  <path d="M525,158 L615,158" fill="none" stroke="#bdbdbd" stroke-width="1.5" stroke-dasharray="5,3"/>

  <!-- 저장소 Row -->
  <path d="M400,190 L400,205" fill="none" stroke="#78909c" stroke-width="2" marker-end="url(#arrowSmall2)"/>

  <g filter="url(#shadow2)">
    <rect x="120" y="210" width="150" height="50" rx="10" fill="url(#cardPurple)" stroke="#ce93d8" stroke-width="1"/>
  </g>
  <text x="195" y="240" text-anchor="middle" fill="#6a1b9a" font-family="Arial, sans-serif" font-size="12" font-weight="600">MySQL (원본)</text>

  <g filter="url(#shadow2)">
    <rect x="300" y="210" width="150" height="50" rx="10" fill="url(#cardPurple)" stroke="#ce93d8" stroke-width="1"/>
  </g>
  <text x="375" y="240" text-anchor="middle" fill="#6a1b9a" font-family="Arial, sans-serif" font-size="12" font-weight="600">S3 (이미지)</text>

  <g filter="url(#shadow2)">
    <rect x="480" y="210" width="150" height="50" rx="10" fill="url(#cardPurple)" stroke="#ce93d8" stroke-width="1"/>
  </g>
  <text x="555" y="240" text-anchor="middle" fill="#6a1b9a" font-family="Arial, sans-serif" font-size="12" font-weight="600">Elasticsearch</text>

  <!-- 성과 -->
  <g filter="url(#shadow2)">
    <rect x="700" y="210" width="160" height="50" rx="10" fill="url(#cardWhite)" stroke="#4caf50" stroke-width="2"/>
  </g>
  <text x="780" y="232" text-anchor="middle" fill="#2e7d32" font-family="Arial, sans-serif" font-size="12" font-weight="600">✓ 성과</text>
  <text x="780" y="250" text-anchor="middle" fill="#43a047" font-family="Arial, sans-serif" font-size="10">일 5,000명+ | 검색 1초</text>
</svg>
